<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>SEAL: seal::RelinKeys Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">SEAL
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><b>seal</b></li><li class="navelem"><a class="el" href="classseal_1_1RelinKeys.html">RelinKeys</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="classseal_1_1RelinKeys-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">seal::RelinKeys Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="relinkeys_8h_source.html">relinkeys.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for seal::RelinKeys:</div>
<div class="dyncontent">
<div class="center"><img src="classseal_1_1RelinKeys__inherit__graph.png" border="0" usemap="#seal_1_1RelinKeys_inherit__map" alt="Inheritance graph"/></div>
<!-- MAP 0 -->
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>
<div class="dynheader">
Collaboration diagram for seal::RelinKeys:</div>
<div class="dyncontent">
<div class="center"><img src="classseal_1_1RelinKeys__coll__graph.png" border="0" usemap="#seal_1_1RelinKeys_coll__map" alt="Collaboration graph"/></div>
<!-- MAP 1 -->
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:ad1037a711fd912c14e24de9e72787478"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classseal_1_1RelinKeys.html#ad1037a711fd912c14e24de9e72787478">has_key</a> (std::size_t key_power) const</td></tr>
<tr class="separator:ad1037a711fd912c14e24de9e72787478"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a53d057f077630495775537f1b720a915"><td class="memItemLeft" align="right" valign="top">auto &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classseal_1_1RelinKeys.html#a53d057f077630495775537f1b720a915">key</a> (std::size_t key_power) const</td></tr>
<tr class="separator:a53d057f077630495775537f1b720a915"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_classseal_1_1KSwitchKeys"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_classseal_1_1KSwitchKeys')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="classseal_1_1KSwitchKeys.html">seal::KSwitchKeys</a></td></tr>
<tr class="memitem:aa9e65fe18fa0856e1e448d68bb8200e0 inherit pub_methods_classseal_1_1KSwitchKeys"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classseal_1_1KSwitchKeys.html#aa9e65fe18fa0856e1e448d68bb8200e0">KSwitchKeys</a> ()=default</td></tr>
<tr class="separator:aa9e65fe18fa0856e1e448d68bb8200e0 inherit pub_methods_classseal_1_1KSwitchKeys"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a94d8f23903d03a9ad62eb0f531b05649 inherit pub_methods_classseal_1_1KSwitchKeys"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classseal_1_1KSwitchKeys.html#a94d8f23903d03a9ad62eb0f531b05649">KSwitchKeys</a> (const <a class="el" href="classseal_1_1KSwitchKeys.html">KSwitchKeys</a> &amp;copy)=default</td></tr>
<tr class="separator:a94d8f23903d03a9ad62eb0f531b05649 inherit pub_methods_classseal_1_1KSwitchKeys"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1ad7de4ea2e2584aa063a4cc33a00e94 inherit pub_methods_classseal_1_1KSwitchKeys"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classseal_1_1KSwitchKeys.html#a1ad7de4ea2e2584aa063a4cc33a00e94">KSwitchKeys</a> (<a class="el" href="classseal_1_1KSwitchKeys.html">KSwitchKeys</a> &amp;&amp;source)=default</td></tr>
<tr class="separator:a1ad7de4ea2e2584aa063a4cc33a00e94 inherit pub_methods_classseal_1_1KSwitchKeys"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5faef041e8526b8a559be1c75bd313be inherit pub_methods_classseal_1_1KSwitchKeys"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classseal_1_1KSwitchKeys.html">KSwitchKeys</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classseal_1_1KSwitchKeys.html#a5faef041e8526b8a559be1c75bd313be">operator=</a> (const <a class="el" href="classseal_1_1KSwitchKeys.html">KSwitchKeys</a> &amp;assign)</td></tr>
<tr class="separator:a5faef041e8526b8a559be1c75bd313be inherit pub_methods_classseal_1_1KSwitchKeys"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a720db0e9ea5ea108bf3d4b73dac17b96 inherit pub_methods_classseal_1_1KSwitchKeys"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classseal_1_1KSwitchKeys.html">KSwitchKeys</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classseal_1_1KSwitchKeys.html#a720db0e9ea5ea108bf3d4b73dac17b96">operator=</a> (<a class="el" href="classseal_1_1KSwitchKeys.html">KSwitchKeys</a> &amp;&amp;assign)=default</td></tr>
<tr class="separator:a720db0e9ea5ea108bf3d4b73dac17b96 inherit pub_methods_classseal_1_1KSwitchKeys"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a886c13ef24ed942cab65afd0a2eb35c4 inherit pub_methods_classseal_1_1KSwitchKeys"><td class="memItemLeft" align="right" valign="top">std::size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classseal_1_1KSwitchKeys.html#a886c13ef24ed942cab65afd0a2eb35c4">size</a> () const noexcept</td></tr>
<tr class="separator:a886c13ef24ed942cab65afd0a2eb35c4 inherit pub_methods_classseal_1_1KSwitchKeys"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9abf4167afcd9bbce2188b6096e36d5d inherit pub_methods_classseal_1_1KSwitchKeys"><td class="memItemLeft" align="right" valign="top">auto &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classseal_1_1KSwitchKeys.html#a9abf4167afcd9bbce2188b6096e36d5d">data</a> () noexcept</td></tr>
<tr class="separator:a9abf4167afcd9bbce2188b6096e36d5d inherit pub_methods_classseal_1_1KSwitchKeys"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aac55067f02ee663e31d124b91dd09da1 inherit pub_methods_classseal_1_1KSwitchKeys"><td class="memItemLeft" align="right" valign="top">auto &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classseal_1_1KSwitchKeys.html#aac55067f02ee663e31d124b91dd09da1">data</a> () const noexcept</td></tr>
<tr class="separator:aac55067f02ee663e31d124b91dd09da1 inherit pub_methods_classseal_1_1KSwitchKeys"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6d2b91edc950139ef491c31584f71afb inherit pub_methods_classseal_1_1KSwitchKeys"><td class="memItemLeft" align="right" valign="top">auto &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classseal_1_1KSwitchKeys.html#a6d2b91edc950139ef491c31584f71afb">data</a> (std::size_t index)</td></tr>
<tr class="separator:a6d2b91edc950139ef491c31584f71afb inherit pub_methods_classseal_1_1KSwitchKeys"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8c318be976ffa61e7ce7306608e010d1 inherit pub_methods_classseal_1_1KSwitchKeys"><td class="memItemLeft" align="right" valign="top">const auto &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classseal_1_1KSwitchKeys.html#a8c318be976ffa61e7ce7306608e010d1">data</a> (std::size_t index) const</td></tr>
<tr class="separator:a8c318be976ffa61e7ce7306608e010d1 inherit pub_methods_classseal_1_1KSwitchKeys"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a819d894b89f66ccb568404c3a23f041d inherit pub_methods_classseal_1_1KSwitchKeys"><td class="memItemLeft" align="right" valign="top">auto &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classseal_1_1KSwitchKeys.html#a819d894b89f66ccb568404c3a23f041d">parms_id</a> () noexcept</td></tr>
<tr class="separator:a819d894b89f66ccb568404c3a23f041d inherit pub_methods_classseal_1_1KSwitchKeys"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a46fe3d286e2761a8667c28f9e1f23bcd inherit pub_methods_classseal_1_1KSwitchKeys"><td class="memItemLeft" align="right" valign="top">auto &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classseal_1_1KSwitchKeys.html#a46fe3d286e2761a8667c28f9e1f23bcd">parms_id</a> () const noexcept</td></tr>
<tr class="separator:a46fe3d286e2761a8667c28f9e1f23bcd inherit pub_methods_classseal_1_1KSwitchKeys"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7947b522ef2326c09d3d3478aa49f53f inherit pub_methods_classseal_1_1KSwitchKeys"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classseal_1_1KSwitchKeys.html#a7947b522ef2326c09d3d3478aa49f53f">save</a> (std::ostream &amp;stream) const</td></tr>
<tr class="separator:a7947b522ef2326c09d3d3478aa49f53f inherit pub_methods_classseal_1_1KSwitchKeys"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae1fdc3d48e4023088a7b525db2779816 inherit pub_methods_classseal_1_1KSwitchKeys"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classseal_1_1KSwitchKeys.html#ae1fdc3d48e4023088a7b525db2779816">unsafe_load</a> (std::istream &amp;stream)</td></tr>
<tr class="separator:ae1fdc3d48e4023088a7b525db2779816 inherit pub_methods_classseal_1_1KSwitchKeys"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9369d4ba4d264da69f2947df9e12985d inherit pub_methods_classseal_1_1KSwitchKeys"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classseal_1_1KSwitchKeys.html#a9369d4ba4d264da69f2947df9e12985d">load</a> (std::shared_ptr&lt; <a class="el" href="classseal_1_1SEALContext.html">SEALContext</a> &gt; context, std::istream &amp;stream)</td></tr>
<tr class="separator:a9369d4ba4d264da69f2947df9e12985d inherit pub_methods_classseal_1_1KSwitchKeys"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3f96f5b1f8f74cd5c82dd16e31341dbd inherit pub_methods_classseal_1_1KSwitchKeys"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classseal_1_1MemoryPoolHandle.html">MemoryPoolHandle</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classseal_1_1KSwitchKeys.html#a3f96f5b1f8f74cd5c82dd16e31341dbd">pool</a> () const noexcept</td></tr>
<tr class="separator:a3f96f5b1f8f74cd5c82dd16e31341dbd inherit pub_methods_classseal_1_1KSwitchKeys"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:aff685f277b1615eac45bf00fd3b3db9e"><td class="memItemLeft" align="right" valign="top">static std::size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classseal_1_1RelinKeys.html#aff685f277b1615eac45bf00fd3b3db9e">get_index</a> (std::size_t key_power)</td></tr>
<tr class="separator:aff685f277b1615eac45bf00fd3b3db9e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Class to store relinearization keys.</p>
<dl class="section user"><dt>Relinearization</dt><dd>Freshly encrypted ciphertexts have a size of 2, and multiplying ciphertexts of sizes K and L results in a ciphertext of size K+L-1. Unfortunately, this growth in size slows down further multiplications and increases noise growth. Relinearization is an operation that has no semantic meaning, but it reduces the size of ciphertexts back to 2. Microsoft SEAL can only relinearize size 3 ciphertexts back to size 2, so if the ciphertexts grow larger than size 3, there is no way to reduce their size. Relinearization requires an instance of <a class="el" href="classseal_1_1RelinKeys.html">RelinKeys</a> to be created by the secret key owner and to be shared with the evaluator. Note that plain multiplication is fundamentally different from normal multiplication and does not result in ciphertext size growth.</dd></dl>
<dl class="section user"><dt>When to Relinearize</dt><dd>Typically, one should always relinearize after each multiplications. However, in some cases relinearization should be postponed as late as possible due to its computational cost. For example, suppose the computation involves several homomorphic multiplications followed by a sum of the results. In this case it makes sense to not relinearize each product, but instead add them first and only then relinearize the sum. This is particularly important when using the CKKS scheme, where relinearization is much more computationally costly than multiplications and additions.</dd></dl>
<dl class="section user"><dt>Thread Safety</dt><dd>In general, reading from <a class="el" href="classseal_1_1RelinKeys.html">RelinKeys</a> is thread-safe as long as no other thread is concurrently mutating it. This is due to the underlying data structure storing the relinearization keys not being thread-safe.</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="classseal_1_1SecretKey.html">SecretKey</a> for the class that stores the secret <a class="el" href="classseal_1_1RelinKeys.html#a53d057f077630495775537f1b720a915">key</a>. </dd>
<dd>
<a class="el" href="classseal_1_1PublicKey.html">PublicKey</a> for the class that stores the public <a class="el" href="classseal_1_1RelinKeys.html#a53d057f077630495775537f1b720a915">key</a>. </dd>
<dd>
<a class="el" href="classseal_1_1GaloisKeys.html">GaloisKeys</a> for the class that stores the Galois keys. </dd>
<dd>
<a class="el" href="classseal_1_1KeyGenerator.html">KeyGenerator</a> for the class that generates the relinearization keys. </dd></dl>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a id="aff685f277b1615eac45bf00fd3b3db9e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aff685f277b1615eac45bf00fd3b3db9e">&#9670;&nbsp;</a></span>get_index()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static std::size_t seal::RelinKeys::get_index </td>
          <td>(</td>
          <td class="paramtype">std::size_t&#160;</td>
          <td class="paramname"><em>key_power</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Returns the index of a relinearization key in the backing <a class="el" href="classseal_1_1KSwitchKeys.html">KSwitchKeys</a> instance that corresponds to the given secret key power, assuming that it exists in the backing <a class="el" href="classseal_1_1KSwitchKeys.html">KSwitchKeys</a>.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">key_power</td><td>The power of the secret key </td></tr>
  </table>
  </dd>
</dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">std::invalid_argument</td><td>if key_power is less than 2 </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ad1037a711fd912c14e24de9e72787478"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad1037a711fd912c14e24de9e72787478">&#9670;&nbsp;</a></span>has_key()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool seal::RelinKeys::has_key </td>
          <td>(</td>
          <td class="paramtype">std::size_t&#160;</td>
          <td class="paramname"><em>key_power</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Returns whether a relinearization key corresponding to a given power of the secret key exists.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">key_power</td><td>The power of the secret key </td></tr>
  </table>
  </dd>
</dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">std::invalid_argument</td><td>if key_power is less than 2 </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a53d057f077630495775537f1b720a915"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a53d057f077630495775537f1b720a915">&#9670;&nbsp;</a></span>key()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">auto&amp; seal::RelinKeys::key </td>
          <td>(</td>
          <td class="paramtype">std::size_t&#160;</td>
          <td class="paramname"><em>key_power</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Returns a const reference to a relinearization key. The returned relinearization key corresponds to the given power of the secret key.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">key_power</td><td>The power of the secret key </td></tr>
  </table>
  </dd>
</dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">std::invalid_argument</td><td>if the key corresponding to key_power does not exist </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>seal/<a class="el" href="relinkeys_8h_source.html">relinkeys.h</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
